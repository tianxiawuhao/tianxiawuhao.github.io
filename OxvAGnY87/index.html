<!DOCTYPE html>
<html>

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta content="yes" name="apple-mobile-web-app-capable" />
<meta content="black" name="apple-mobile-web-app-status-bar-style" />
<meta name="referrer" content="never">
<meta name="keywords" content="">
<meta name="description" content="欢迎访问[tianxia]的个人博客">
<meta name="author" content="kveln">
<title>easeCode | tianxia</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.0/dist/css/bootstrap.min.css">
<link href="https://cdn.bootcss.com/font-awesome/5.11.2/css/all.min.css" rel="stylesheet">
<link href='https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic' rel='stylesheet' type='text/css'>
<link
  href='https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800'
  rel='stylesheet' type='text/css'>
<link rel="alternate" type="application/rss+xml" title="easeCode | tianxia » Feed"
  href="https://tianxiawuhao.github.io/atom.xml">
<link rel="stylesheet"
  href="https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.15.10/build/styles/androidstudio.min.css">
<link href="https://tianxiawuhao.github.io/styles/main.css" rel="stylesheet">
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>

<script src="https://cdn.jsdelivr.net/npm/@highlightjs/cdn-assets/highlight.min.js"></script>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/850552586/ericamcdn@0.1/css/live2d.css">

<script>hljs.initHighlightingOnLoad();</script>

  <meta property="og:description" content="easeCode" />
  <meta property="og:url" content="https://tianxiawuhao.github.io/OxvAGnY87/" />
  <meta property="og:locale" content="zh-CN" />
  <meta property="og:type" content="website" />
  <meta property="og:site_name" content="tianxia" />
  <!-- <script src="../assets/styles/scripts/tocScript.js"></script> -->
</head>

<body>
  <!-- Navigation -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="https://tianxiawuhao.github.io">tianxia</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
      data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
      aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        
        <li class="nav-item">
          
          <a class="nav-link" href="https://tianxiawuhao.github.io">首页</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/archives">归档</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/tags">标签</a>
          
        </li>
        
        <li class="nav-item">
          <div class="gridea-search-container">
            <form id="gridea-search-form" style="position: relative" data-update="1742729663519"
              action="/search/index.html">
              <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
              <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
  <!-- Page Header -->
  <nav class="navbar navbar-expand-lg navbar-light fixed-top" id="mainNav">
  <div class="container">
    <a class="navbar-brand" href="https://tianxiawuhao.github.io">tianxia</a>
    <button class="navbar-toggler navbar-toggler-right" type="button" data-toggle="collapse"
      data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false"
      aria-label="Toggle navigation">
      Menu
      <i class="fas fa-bars"></i>
    </button>
    <div class="collapse navbar-collapse" id="navbarResponsive">
      <ul class="navbar-nav ml-auto">
        
        <li class="nav-item">
          
          <a class="nav-link" href="https://tianxiawuhao.github.io">首页</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/archives">归档</a>
          
        </li>
        
        <li class="nav-item">
          
          <a class="nav-link" href="/tags">标签</a>
          
        </li>
        
        <li class="nav-item">
          <div class="gridea-search-container">
            <form id="gridea-search-form" style="position: relative" data-update="1742729663519"
              action="/search/index.html">
              <input class="search-input" autocomplete="off" spellcheck="false" name="q" placeholder="搜索文章" />
              <i class="fas fa-search gt-c-content-color-first" style="position: absolute; top: 9px; left: 10px;"></i>
            </form>
          </div>
        </li>
      </ul>
    </div>
  </div>
</nav>
<header class="masthead" style="background-image: url('https://tianxiawuhao.github.io/media/images/home-bg.jpg')">
  <div class="overlay"></div>
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-md-10 mx-auto">
        
          <!-- 没Title为其他页面Header -->
          
            <!-- 没Title并且有headerType为Post：文章Header -->
            <div class="post-heading">
              <span class="tags">
                
                <a href="https://tianxiawuhao.github.io/6l4aXFMiY/" class="tag">java</a>
                
              </span>
              <h1>easeCode</h1>
              <span class="meta">
                Posted on
                2022-11-06，20 min read
              </span>
            </div>
          
        
      </div>
    </div>
  </div>
</header>
  <!-- Post Content -->
  <article id="post-content-article">
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto post-content-container">
          
          <img class="post-feature-header-image" src="https://tianxiawuhao.github.io/post-images/OxvAGnY87.png" alt="封面图">
          </img>
          
          <p><strong>controller.java.vm</strong></p>
<pre><code class="language-java">##定义初始变量
#set($tableName = $tool.append($tableInfo.name, &quot;Controller&quot;))
##设置回调
$!callback.setFileName($tool.append($tableName, &quot;.java&quot;))
$!callback.setSavePath($tool.append($tableInfo.savePath, &quot;/controller&quot;))
##拿到主键
#if(!$tableInfo.pkColumn.isEmpty())
    #set($pk = $tableInfo.pkColumn.get(0))
#end

#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}controller;

import $!{tableInfo.savePackageName}.entity.$!{tableInfo.name};
import $!{tableInfo.savePackageName}.entity.to.$!{tableInfo.name}TO;
import $!{tableInfo.savePackageName}.exception.basic.APIResponse;
import $!{tableInfo.savePackageName}.service.$!{tableInfo.name}Service;
import com.haier.dtsimrs.entity.PageInfo;
import io.swagger.v3.oas.annotations.Operation;
import io.swagger.v3.oas.annotations.tags.Tag;
import jakarta.annotation.Resource;
import jakarta.validation.Valid;
import org.springframework.web.bind.annotation.*;
import java.util.List;

/**
 * $!{tableInfo.comment}($!{tableInfo.name})表控制层
 *
 * @author wuhao
 * @since $!time.currTime()
 */
@Tag(name = &quot;$!{tableInfo.comment}&quot;,description = &quot;$!{tableInfo.comment}&quot;)
@RestController
@RequestMapping(&quot;$!tool.firstLowerCase($tableInfo.name)&quot;)
public class $!{tableName} {
    /**
     * 服务对象
     */
    @Resource
    private $!{tableInfo.name}Service $!tool.firstLowerCase($tableInfo.name)Service;

    /**
     * 通过条件查询数据
     *
     * @param id 筛选条件
     * @return 实例对象
     */
    @GetMapping(value = &quot;/queryByOne&quot;)
    @Operation(summary = &quot;根据条件获取单条数据&quot;, description = &quot;根据条件获取单条数据&quot;)
    public APIResponse&lt;$!{tableInfo.name}&gt; queryById(@PathVariable(&quot;id&quot;) $!pk.shortType id) {
        return APIResponse.ok(this.$!{tool.firstLowerCase($tableInfo.name)}Service.getById(id));
    }
    
    /**
     * 分页查询
     *
     * @param $!{tool.firstLowerCase($tableInfo.name)} 筛选条件
     * @return 查询结果
     */
    @PostMapping(value = &quot;/queryByPage&quot;)
    @Operation(summary = &quot;获取分页数据&quot;, description = &quot;获取分页数据&quot;)
    public APIResponse&lt;PageInfo&lt;$!{tableInfo.name}&gt;&gt; queryByPage(@RequestBody $!{tableInfo.name}TO $!{tool.firstLowerCase($tableInfo.name)}) {
        return APIResponse.ok(this.$!{tool.firstLowerCase($tableInfo.name)}Service.queryByPage($!{tool.firstLowerCase($tableInfo.name)}));
    }

    /**
     * 通过条件查询批量数据
     *
     * @param $!{tool.firstLowerCase($tableInfo.name)} 筛选条件
     * @return 单条数据
     */
    @PostMapping(value = &quot;/queryByList&quot;)
    @Operation(summary = &quot;通过条件查询批量数据&quot;, description = &quot;通过条件查询批量数据&quot;)
    public APIResponse&lt;List&lt;$!{tableInfo.name}&gt;&gt; queryByList(@RequestBody $!{tableInfo.name} $!{tool.firstLowerCase($tableInfo.name)}) {
        return APIResponse.ok(this.$!{tool.firstLowerCase($tableInfo.name)}Service.queryByList($!{tool.firstLowerCase($tableInfo.name)}));
    }

    /**
     * 新增数据
     *
     * @param $!{tool.firstLowerCase($tableInfo.name)} 实体
     * @return 新增结果
     */
    @PostMapping(value = &quot;/saveOrUpdate&quot;)
    @Operation(summary = &quot;新增或编辑数据&quot;, description = &quot;新增或编辑数据&quot;)
    public APIResponse&lt;Boolean&gt; saveOrUpdate(@RequestBody @Valid $!{tableInfo.name} $!{tool.firstLowerCase($tableInfo.name)}) {
        return APIResponse.ok(this.$!{tool.firstLowerCase($tableInfo.name)}Service.saveOrUpdate($!{tool.firstLowerCase($tableInfo.name)}));
    }

    /**
     * 批量新增数据
     *
     * @param list 实体
     * @return 新增结果
     */
    @PostMapping(value = &quot;/saveOrUpdateBatch&quot;)
    @Operation(summary = &quot;批量新增或编辑数据&quot;, description = &quot;批量新增或编辑数据&quot;)
    public APIResponse&lt;Boolean&gt; saveOrUpdateBatch(@RequestBody @Valid List&lt;$!{tableInfo.name}&gt; list) {
        return APIResponse.ok(this.$!{tool.firstLowerCase($tableInfo.name)}Service.saveOrUpdateBatch(list));
    }

    /**
     * 删除数据
     *
     * @param id 主键
     * @return 删除是否成功
     */
    @DeleteMapping(value = &quot;/deleteById&quot;)
    @Operation(summary = &quot;根据主键删除数据&quot;, description = &quot;根据主键删除数据&quot;)
    public APIResponse&lt;Boolean&gt; deleteById($!pk.shortType id) {
        return APIResponse.ok(this.$!{tool.firstLowerCase($tableInfo.name)}Service.removeById(id));
    }

    /**
     * 批量删除数据
     *
     * @param ids 主键
     * @return 删除是否成功
     */
    @DeleteMapping(value = &quot;/removeByIds&quot;)
    @Operation(summary = &quot;根据主键批量删除数据&quot;, description = &quot;根据主键批量删除数据&quot;)
    public APIResponse&lt;Boolean&gt; deleteById(List&lt;$!pk.shortType&gt; ids) {
        return APIResponse.ok(this.$!{tool.firstLowerCase($tableInfo.name)}Service.removeByIds(ids));
    }

}
</code></pre>
<p><strong>service.java.vm</strong></p>
<pre><code class="language-java">##定义初始变量
#set($tableName = $tool.append($tableInfo.name, &quot;Service&quot;))
##设置回调
$!callback.setFileName($tool.append($tableName, &quot;.java&quot;))
$!callback.setSavePath($tool.append($tableInfo.savePath, &quot;/service&quot;))

##拿到主键
#if(!$tableInfo.pkColumn.isEmpty())
    #set($pk = $tableInfo.pkColumn.get(0))
#end

#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}service;

import $!{tableInfo.savePackageName}.entity.$!{tableInfo.name};
import $!{tableInfo.savePackageName}.entity.to.$!{tableInfo.name}TO;
import com.baomidou.mybatisplus.extension.service.IService;
import java.util.List;
import com.haier.dtsimrs.entity.PageInfo;

/**
 * $!{tableInfo.comment}($!{tableInfo.name})表服务接口
 *
 * @author wuhao
 * @since $!time.currTime()
 */
public interface $!{tableName} extends IService&lt;$!{tableInfo.name}&gt;{

   /**
     * 通过条件查询批量数据
     *
     * @param $!tool.firstLowerCase($!{tableInfo.name}) 筛选条件
     * @return 查询结果
     */
    List&lt;$!{tableInfo.name}&gt; queryByList($!{tableInfo.name} $!tool.firstLowerCase($!{tableInfo.name}));
    /**
     * 分页查询
     *
     * @param $!tool.firstLowerCase($!{tableInfo.name}) 筛选条件
     * @return 查询结果
     */
    PageInfo&lt;$!{tableInfo.name}&gt; queryByPage($!{tableInfo.name}TO $!{tool.firstLowerCase($tableInfo.name)});
}
</code></pre>
<p><strong>serviceImpl.java.vm</strong></p>
<pre><code class="language-java">##定义初始变量
#set($tableName = $tool.append($tableInfo.name, &quot;ServiceImpl&quot;))
##设置回调
$!callback.setFileName($tool.append($tableName, &quot;.java&quot;))
$!callback.setSavePath($tool.append($tableInfo.savePath, &quot;/service/impl&quot;))

##拿到主键
#if(!$tableInfo.pkColumn.isEmpty())
    #set($pk = $tableInfo.pkColumn.get(0))
#end

#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}service.impl;

import $!{tableInfo.savePackageName}.entity.$!{tableInfo.name};
import $!{tableInfo.savePackageName}.entity.to.$!{tableInfo.name}TO;
import $!{tableInfo.savePackageName}.mapper.$!{tableInfo.name}Mapper;
import $!{tableInfo.savePackageName}.service.$!{tableInfo.name}Service;
import com.baomidou.mybatisplus.core.toolkit.Wrappers;
import com.baomidou.mybatisplus.extension.plugins.pagination.Page;
import com.haier.dtsimrs.entity.PageInfo;
import org.springframework.stereotype.Service;
import com.baomidou.mybatisplus.extension.service.impl.ServiceImpl;
import jakarta.annotation.Resource;
import java.util.List;
import java.util.Objects;
import org.springframework.util.StringUtils;
import com.baomidou.mybatisplus.core.conditions.query.LambdaQueryWrapper;
import org.springframework.beans.BeanUtils;

/**
 * $!{tableInfo.comment}($!{tableInfo.name})表服务实现类
 *
 * @author wuhao
 * @since $!time.currTime()
 */
@Service(&quot;$!tool.firstLowerCase($!{tableInfo.name})Service&quot;)
public class $!{tableName} extends ServiceImpl&lt;$!{tableInfo.name}Mapper, $!{tableInfo.name}&gt; implements $!{tableInfo.name}Service {
    @Resource
    private $!{tableInfo.name}Mapper $!tool.firstLowerCase($!{tableInfo.name})Mapper;
    
     /**
     * 通过条件查询批量数据
     *
     * @param $!tool.firstLowerCase($!{tableInfo.name}) 筛选条件
     * @return 实例对象
     */
    @Override
    public List&lt;$!{tableInfo.name}&gt; queryByList($!{tableInfo.name} $!tool.firstLowerCase($!{tableInfo.name})) {
        return this.$!{tool.firstLowerCase($!{tableInfo.name})}Mapper.selectList(getWrapper($!tool.firstLowerCase($!{tableInfo.name})));
    }

    /**
     * 分页查询
     *
     * @param $!{tool.firstLowerCase($tableInfo.name)} 筛选条件
     * @return 查询结果
     */
    @Override
    public PageInfo&lt;$!{tableInfo.name}&gt; queryByPage($!{tableInfo.name}TO $!{tool.firstLowerCase($tableInfo.name)}) {
        //开启分页
        Page&lt;$!{tableInfo.name}&gt; page = new Page&lt;&gt;($!{tool.firstLowerCase($tableInfo.name)}.getPage(), $!{tool.firstLowerCase($tableInfo.name)}.getSize());
        $!{tableInfo.name} build = $!{tableInfo.name}.builder().build();
        BeanUtils.copyProperties($!{tool.firstLowerCase($tableInfo.name)},build);
        return new PageInfo&lt;&gt;(this.$!{tool.firstLowerCase($tableInfo.name)}Mapper.selectPage(page, getWrapper(build)));
    }
    
    private LambdaQueryWrapper getWrapper($!{tableInfo.name} $!tool.firstLowerCase($!{tableInfo.name})){
        return Wrappers.&lt;$!{tableInfo.name}&gt;lambdaQuery()
        #foreach($column in $tableInfo.fullColumn)
            #if($!{tool.getClsNameByFullName($column.type)}==&quot;String&quot;)
            .eq(StringUtils.hasLength($!{tool.firstLowerCase($!{tableInfo.name})}.get$!{tool.firstUpperCase($!{column.name})}()), $!{tableInfo.name}::get$!{tool.firstUpperCase($!{column.name})}, $!{tool.firstLowerCase($!{tableInfo.name})}.get$!{tool.firstUpperCase($!{column.name})}())
            #end
            #if($!{tool.getClsNameByFullName($column.type)}!=&quot;String&quot;)
            .eq(Objects.nonNull($!{tool.firstLowerCase($!{tableInfo.name})}.get$!{tool.firstUpperCase($!{column.name})}()), $!{tableInfo.name}::get$!{tool.firstUpperCase($!{column.name})},$!{tool.firstLowerCase($!{tableInfo.name})}.get$!{tool.firstUpperCase($!{column.name})}())
            #end
        #end
        ;
    }
}
</code></pre>
<p><strong>mapper.java.vm</strong></p>
<pre><code class="language-java">##引入mybatis支持
$!{mybatisSupport.vm}

##设置保存名称与保存位置
$!callback.setFileName($tool.append($!{tableInfo.name}, &quot;Mapper.xml&quot;))
$!callback.setSavePath($tool.append($modulePath, &quot;/src/main/resources/mapper&quot;))

##拿到主键
#if(!$tableInfo.pkColumn.isEmpty())
    #set($pk = $tableInfo.pkColumn.get(0))
#end

&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;!DOCTYPE mapper PUBLIC &quot;-//mybatis.org//DTD Mapper 3.0//EN&quot; &quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;&gt;
&lt;mapper namespace=&quot;$!{tableInfo.savePackageName}.mapper.$!{tableInfo.name}Mapper&quot;&gt;

    &lt;resultMap type=&quot;$!{tableInfo.savePackageName}.entity.$!{tableInfo.name}&quot; id=&quot;$!{tableInfo.name}Map&quot;&gt;
#foreach($column in $tableInfo.fullColumn)
        &lt;result property=&quot;$!column.name&quot; column=&quot;$!column.obj.name&quot; jdbcType=&quot;$!column.ext.jdbcType&quot;/&gt;
#end
    &lt;/resultMap&gt;


    &lt;!--查询指定行数据--&gt;
    &lt;select id=&quot;queryAllByLimit&quot; resultMap=&quot;$!{tableInfo.name}Map&quot;&gt;
        select
          #allSqlColumn()

        from $!tableInfo.obj.name
        &lt;where&gt;
#foreach($column in $tableInfo.fullColumn)
            &lt;if test=&quot;$!column.name != null#if($column.type.equals(&quot;java.lang.String&quot;)) and $!column.name != ''#end&quot;&gt;
                and $!column.obj.name = #{$!column.name}
            &lt;/if&gt;
#end
        &lt;/where&gt;
    &lt;/select&gt;


    &lt;insert id=&quot;insertBatch&quot; keyProperty=&quot;$!pk.name&quot; useGeneratedKeys=&quot;true&quot;&gt;
        insert into $!{tableInfo.obj.name}(#foreach($column in $tableInfo.otherColumn)$!column.obj.name#if($velocityHasNext), #end#end)
        values
        &lt;foreach collection=&quot;entities&quot; item=&quot;entity&quot; separator=&quot;,&quot;&gt;
        (#foreach($column in $tableInfo.otherColumn)#{entity.$!{column.name}}#if($velocityHasNext), #end#end)
        &lt;/foreach&gt;
    &lt;/insert&gt;

    &lt;!--需要通过在数据库连接URL中指定allowMultiQueries参数值为true告诉数据库以支持”;&quot;号分隔的多条语句的执行--&gt;
    &lt;update id=&quot;updateBatch&quot;&gt;
        &lt;foreach collection=&quot;entities&quot; item=&quot;entity&quot; separator=&quot;;&quot;&gt;
            update $!{tableInfo.obj.name}
            &lt;set&gt;
                #foreach($column in $tableInfo.otherColumn)
                    &lt;if test=&quot;entity.$!column.name != null#if($column.type.equals(&quot;java.lang.String&quot;)) and entity.$!column.name != ''#end&quot;&gt;
                        $!column.obj.name = #{entity.$!column.name},
                    &lt;/if&gt;
                #end
            &lt;/set&gt;
            where $!pk.obj.name = #{entity.$!pk.name}
        &lt;/foreach&gt;
    &lt;/update&gt;
&lt;/mapper&gt;
</code></pre>
<p><strong>dao.java.vm</strong></p>
<pre><code class="language-java">##定义初始变量
#set($tableName = $tool.append($tableInfo.name, &quot;Mapper&quot;))
##设置回调
$!callback.setFileName($tool.append($tableName, &quot;.java&quot;))
$!callback.setSavePath($tool.append($tableInfo.savePath, &quot;/mapper&quot;))

##拿到主键
#if(!$tableInfo.pkColumn.isEmpty())
    #set($pk = $tableInfo.pkColumn.get(0))
#end

#if($tableInfo.savePackageName)package $!{tableInfo.savePackageName}.#{end}mapper;

import $!{tableInfo.savePackageName}.entity.$!{tableInfo.name};
import com.baomidou.mybatisplus.core.mapper.BaseMapper;
import org.apache.ibatis.annotations.Mapper;
import org.apache.ibatis.annotations.Param;
import java.util.List;

/**
 * $!{tableInfo.comment}($!{tableInfo.name})表数据库访问层
 *
 * @author wuhao
 * @since $!time.currTime()
 */
@Mapper
public interface $!{tableInfo.name}Mapper extends BaseMapper&lt;$!{tableInfo.name}&gt;{
}
</code></pre>
<p><strong>entity.java.vm</strong></p>
<pre><code class="language-java">##引入宏定义
$!{define.vm}

##使用宏定义设置回调（保存位置与文件后缀）
#save(&quot;/entity&quot;, &quot;.java&quot;)

##使用宏定义设置包后缀
#setPackageSuffix(&quot;entity&quot;)

##使用全局变量实现默认包导入
$!{autoImport.vm}
import com.baomidou.mybatisplus.annotation.IdType;
import com.baomidou.mybatisplus.annotation.TableId;
import jakarta.persistence.*;
import lombok.*;
import lombok.experimental.Accessors;
import io.swagger.v3.oas.annotations.media.Schema;
import java.io.Serializable;

##使用宏定义实现类注释信息
#tableComment(&quot;实体类&quot;)
@Data
@EqualsAndHashCode(callSuper = false)
@Accessors(chain = true)
@Schema(title=&quot;$!{tableInfo.name}对象&quot;, description=&quot;$!{tableInfo.comment}&quot;)
@Builder
@AllArgsConstructor
@NoArgsConstructor
@Entity
@Table(name = &quot;$!{tool.hump2Underline($tableInfo.name)}&quot;, schema = &quot;$!{tableInfo.comment}&quot;)
public class $!{tableInfo.name} implements Serializable {
    private static final long serialVersionUID = $!tool.serial();
#foreach($column in $tableInfo.fullColumn)
    #if(${column.comment})/**
     * ${column.comment}
     */#end

    #if($!{column.name}==&quot;id&quot;)@Schema(title = &quot;${column.comment}&quot;)
    @TableId(value = &quot;id&quot;, type = IdType.AUTO)
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private $!{tool.getClsNameByFullName($column.type)} $!{column.name};
    #end#if($!{column.name}!=&quot;id&quot;)@Schema(title = &quot;${column.comment}&quot;)
    #if($!{column.shortType}==&quot;String&quot;)
    @Column(columnDefinition = &quot;varchar(255) COMMENT '$!{column.comment}'&quot;, name = &quot;$!{tool.hump2Underline($column.name)}&quot;)
    #end
    #if($!{column.shortType}==&quot;Integer&quot;)
    @Column(columnDefinition = &quot;int COMMENT '$!{column.comment}'&quot;, name = &quot;$!{tool.hump2Underline($column.name)}&quot;)
    #end
    #if($!{column.shortType}==&quot;Long&quot;)
    @Column(columnDefinition = &quot;bigint COMMENT '$!{column.comment}'&quot;, name = &quot;$!{tool.hump2Underline($column.name)}&quot;)
    #end
    #if($!{column.shortType}==&quot;Double&quot;)
    @Column(columnDefinition = &quot;double(5, 3) COMMENT '$!{column.comment}'&quot;, name = &quot;$!{tool.hump2Underline($column.name)}&quot;)
    #end
    #if($!{column.shortType}==&quot;Date&quot;)
    @Column(columnDefinition = &quot;datetime  COMMENT '$!{column.comment}'&quot;, name = &quot;$!{tool.hump2Underline($column.name)}&quot;)
    #end
    #if($!{column.shortType}==&quot;DateTime&quot;)
    @Column(columnDefinition = &quot;datetime  COMMENT '$!{column.comment}'&quot;, name = &quot;$!{tool.hump2Underline($column.name)}&quot;)
    #end
    #if($!{column.shortType}==&quot;LocalDateTime&quot;)
    @Column(columnDefinition = &quot;datetime  COMMENT '$!{column.comment}'&quot;, name = &quot;$!{tool.hump2Underline($column.name)}&quot;)
    #end
    #if($!{column.shortType}==&quot;Boolean&quot;)
    @Column(columnDefinition = &quot;int(1) COMMENT '$!{column.comment}'&quot;, name = &quot;$!{tool.hump2Underline($column.name)}&quot;)
    #end
    private $!{tool.getClsNameByFullName($column.type)} $!{column.name};
    #end
#end
}
</code></pre>
<p><strong>entityTO.java.vm</strong></p>
<pre><code class="language-java">##引入宏定义
$!{define.vm}

##使用宏定义设置回调（保存位置与文件后缀）
#save(&quot;/entity/to&quot;, &quot;TO.java&quot;)

##使用宏定义设置包后缀
#setPackageSuffix(&quot;entity.to&quot;)

##使用全局变量实现默认包导入
$!{autoImport.vm}
import com.baomidou.mybatisplus.annotation.IdType;
import com.baomidou.mybatisplus.annotation.TableId;
import com.haier.dtsimrs.entity.SearchPage;
import lombok.*;
import lombok.experimental.Accessors;
import io.swagger.v3.oas.annotations.media.Schema;
import java.io.Serializable;

##使用宏定义实现类注释信息
#tableComment(&quot;实体TO类&quot;)
@Data
@EqualsAndHashCode(callSuper = false)
@Accessors(chain = true)
@Schema(title=&quot;$!{tableInfo.name}TO对象&quot;, description=&quot;$!{tableInfo.comment}&quot;)
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class $!{tableInfo.name}TO extends SearchPage implements Serializable {
    private static final long serialVersionUID = $!tool.serial();
#foreach($column in $tableInfo.fullColumn)
    #if(${column.comment})/**
     * ${column.comment}
     */#end
     
    #if($!{column.name}==&quot;id&quot;)@Schema(title = &quot;${column.comment}&quot;)
    @TableId(value = &quot;id&quot;, type = IdType.AUTO)
    private $!{tool.getClsNameByFullName($column.type)} $!{column.name};
    #end#if($!{column.name}!=&quot;id&quot;)@Schema(title = &quot;${column.comment}&quot;)
    private $!{tool.getClsNameByFullName($column.type)} $!{column.name};
    #end
#end
}
</code></pre>
<p><strong>entityVO.java.vm</strong></p>
<pre><code class="language-java">##引入宏定义
$!{define.vm}

##使用宏定义设置回调（保存位置与文件后缀）
#save(&quot;/entity/vo&quot;, &quot;VO.java&quot;)

##使用宏定义设置包后缀
#setPackageSuffix(&quot;entity.vo&quot;)

##使用全局变量实现默认包导入
$!{autoImport.vm}
import com.baomidou.mybatisplus.annotation.IdType;
import com.baomidou.mybatisplus.annotation.TableId;
import lombok.*;
import lombok.experimental.Accessors;
import io.swagger.v3.oas.annotations.media.Schema;
import java.io.Serializable;

##使用宏定义实现类注释信息
#tableComment(&quot;实体VO类&quot;)
@Data
@EqualsAndHashCode(callSuper = false)
@Accessors(chain = true)
@Schema(title=&quot;$!{tableInfo.name}VO对象&quot;, description=&quot;$!{tableInfo.comment}&quot;)
@Builder
@AllArgsConstructor
@NoArgsConstructor
public class $!{tableInfo.name}VO implements Serializable {
    private static final long serialVersionUID = $!tool.serial();
#foreach($column in $tableInfo.fullColumn)
    #if(${column.comment})/**
     * ${column.comment}
     */#end
     
    #if($!{column.name}==&quot;id&quot;)@Schema(title = &quot;${column.comment}&quot;)
    @TableId(value = &quot;id&quot;, type = IdType.AUTO)
    private $!{tool.getClsNameByFullName($column.type)} $!{column.name};
    #end#if($!{column.name}!=&quot;id&quot;)@Schema(title = &quot;${column.comment}&quot;)
    private $!{tool.getClsNameByFullName($column.type)} $!{column.name};
    #end
#end
}
</code></pre>
<p><strong>APIResponse</strong></p>
<pre><code class="language-java">import cn.hutool.core.util.StrUtil;
import com.fasterxml.jackson.annotation.JsonIgnore;
import io.swagger.annotations.ApiModel;
import io.swagger.annotations.ApiModelProperty;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.experimental.Accessors;

import java.io.Serializable;

@Data
@Accessors(chain = true)
@AllArgsConstructor
@ApiModel(&quot;基础响应信息&quot;)
public class APIResponse&lt;E&gt; implements Serializable {

    @ApiModelProperty(value = &quot;响应码 200:成功，其他:失败&quot;, required = true)
    private Integer code;

    @ApiModelProperty(value = &quot;响应信息&quot;)
    private String msg;

    @ApiModelProperty(value = &quot;响应数据&quot;)
    private E data;

    @JsonIgnore
    private Object[] args;

    /**
     * 获取响应消息
     * @return 响应消息
     */
    public String getMsg() {
        return (null != args &amp;&amp; null != msg) ? StrUtil.format(msg, args) : msg;
    }

    public APIResponse() {
        this.code = ResponseCode.SUCCESS.getCode();
    }

    private APIResponse(ResponseCode code) {
        this.code = code.getCode();
        this.msg = code.getMsg();
    }

    public static APIResponse ok() {
        return new APIResponse(ResponseCode.SUCCESS);
    }

    public static &lt;E&gt; APIResponse&lt;E&gt; ok(E data) {
        APIResponse&lt;E&gt; res = new APIResponse(ResponseCode.SUCCESS);
        res.setData(data);
        return res;
    }

    public static &lt;E&gt; APIResponse&lt;E&gt; ok(E data, String msg) {
        APIResponse res = ok(data);
        res.setMsg(msg);
        return res;
    }

    private static APIResponse fail() {
        return new APIResponse(ResponseCode.FAIL);
    }

    /**
     * 失败响应
     * @param responseCode 异常码
     * @return
     */
    public static APIResponse fail(IResponseCode responseCode) {
        return fail(responseCode.getCode(), responseCode.getMsg());
    }

    /**
     * 失败响应
     * @param responseCode 异常码
     * @param args 参数
     * @return
     */
    public static APIResponse fail(IResponseCode responseCode, Object... args) {
        APIResponse res = fail(responseCode.getCode(), responseCode.getMsg());
        res.setArgs(args);
        return res;
    }

    @Deprecated
    public static APIResponse fail(String msg) {
        APIResponse res = fail();
        res.setMsg(msg);
        return res;
    }

    @Deprecated
    public static APIResponse fail(String format, Object... msg) {
        APIResponse res = fail();
        res.setMsg(StrUtil.format(format, msg));
        return res;
    }

    public static APIResponse fail(Integer code, String msg) {
        APIResponse res = fail(msg);
        res.setCode(code);
        return res;
    }

    public APIResponse msg(String msg) {
        this.msg = msg;
        return this;
    }

    /**
     * 响应是否成功
     *
     * @return
     */
    @ApiModelProperty(value = &quot;请求是否成功&quot;, hidden = true)
    public boolean isOk() {
        return this.code == ResponseCode.SUCCESS.getCode();
    }

}
</code></pre>
<p><strong>IResponseCode</strong></p>
<pre><code class="language-java">public interface IResponseCode {

    /**
     * 获取响应码
     * @return
     */
    int getCode();

    /**
     * 获取响应信息
     *
     * @return
     */
    String getMsg();

}
</code></pre>
<p><strong>IResponseCode</strong></p>
<pre><code class="language-java">import lombok.Getter;

@Getter
public enum ResponseCode implements IResponseCode {
    SUCCESS(&quot;成功&quot;, 200),
    NEED_CHANGE_PAAS(&quot;需要修改初始密码&quot;, 220),
    FAIL(&quot;失败&quot;, 500),
    EXCEPTION(&quot;异常&quot;, 505),
    TOKEN_INVALID(&quot;token失效&quot;, 501),
    ILLEGAL_TOKEN(&quot;非法token&quot;, 502),
    NOTFUND_TOKEN(&quot;请求头缺少token&quot;, 503),
    FORBIDDEN_ACCESS(&quot;无访问权限&quot;, 403),
    ACCOUNT_NOTFOUND( &quot;账号不存在&quot;,404),
    ACCOUNT_EXIST( &quot;账号已存在&quot;,410),
    LOGIN_INVALID(&quot;账号或密码错误&quot;,405),
    ACCOUNT_EXPIRED(&quot;账号过期&quot;,406),
    PASSWORD_EXPIRED( &quot;密码过期&quot;,407),
    LICENSE_OUTTIME(&quot;license许可已经过期&quot;,408),
    ACCOUNT_LOCKED( &quot;无法登录，请与管理员联系&quot;,409),
    CODE_NOT_SEND( &quot;短信验证码未发送&quot;,411),
    CODE_ERROR( &quot;短信验证码错误&quot;,412),
    ;
    int code;

    String msg;

    ResponseCode(int code) {
        this.code = code;
    }

    ResponseCode(String msg,int code) {
        this(code);
        this.msg = msg;
    }

    @Override
    public int getCode() {
        return code;
    }

    @Override
    public String getMsg() {
        return msg;
    }
}
</code></pre>
<p><strong>SearchPage</strong></p>
<pre><code class="language-java">import io.swagger.annotations.ApiModelProperty;
import lombok.AllArgsConstructor;
import lombok.Data;
import lombok.EqualsAndHashCode;
import lombok.NoArgsConstructor;
import lombok.experimental.Accessors;

@Data
@EqualsAndHashCode(callSuper = false)
@Accessors(chain = true)
@AllArgsConstructor
@NoArgsConstructor
public class SearchPage {

    @ApiModelProperty(value = &quot;页数&quot;)
    private int page = 0;

    @ApiModelProperty(value = &quot;每页条数&quot;)
    private int size = 10;
}
</code></pre>
<p><strong>page</strong></p>
<pre><code class="language-java">import com.baomidou.mybatisplus.extension.plugins.pagination.Page;
import lombok.Data;

import java.util.List;

@Data
public class PageInfo&lt;T&gt;{
    protected long total;
    protected List&lt;? extends T&gt; list;
    public static final int DEFAULT_NAVIGATE_PAGES = 8;
    private long pageNum;
    private long pageSize;
    private long startRow;
    private long endRow;

    public PageInfo(Page&lt;T&gt; page) {
        this.list = page.getRecords();
        this.total = page.getTotal();
        this.pageNum = page.getCurrent();
        this.pageSize = page.getSize();
        this.startRow = 0L;
        this.endRow = page.getTotal() &gt; 0 ? (page.getTotal()/page.getSize()) : 0L;
    }

    public String toString() {
        String sb = &quot;PageInfo{&quot; + &quot;pageNum=&quot; + this.pageNum +
                &quot;, pageSize=&quot; + this.pageSize +
                &quot;, startRow=&quot; + this.startRow +
                &quot;, endRow=&quot; + this.endRow +
                &quot;, total=&quot; + this.total +
                &quot;, list=&quot; + this.list +
                '}';
        return sb;
    }
}
</code></pre>
<p><strong>xml</strong></p>
<pre><code class="language-xml">spring:
  jpa:
    hibernate:
      ddl-auto: update
    show-sql: true
    properties:
      hibernate:
        hbm2ddl:
          auto: update
</code></pre>

          <div class="toc-container"></div>
          <hr />
          
            <p class="prev-post">上一篇：
              <a href="https://tianxiawuhao.github.io/DfTPV-OWf/">
                <span class="post-title">
                  Gitlab的手动安装&rarr;
                </span>
              </a>
            </p>
          
          
          <p class="next-post">下一篇：
            <a href="https://tianxiawuhao.github.io/GEPNPC2k-/">
              <span class="post-title">
                Java实现License授权许可和验证&rarr;
              </span>
            </a>
          </p>
          
          <div class="comment" style="text-align: center;">
            

            
            
          </div>
        </div>
      </div>
    </div>
  </article>
  <!-- Footer -->
  <footer>
    <div class="container">
      <div class="row">
        <div class="col-lg-8 col-md-10 mx-auto">
          <ul class="list-inline text-center">
            
            
              
            
              
            
              
            
              
            
              
            
              
            
              
              <!-- <li class="list-inline-item">
              <a href="https://tianxiawuhao.github.io/atom.xml" target="_blank">
                <span class="fa-stack fa-lg">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                </span>
              </a>
              </li> -->
          </ul>
          <p class="copyright text-muted">Copyright &copy;<span>tianxia</span><br><a href="https://github.com/getgridea/gridea" class="Themeinfo">Powered by Gridea</a></p>
        </div>
      </div>
    </div>
   </footer>
  <!-- Bootstrap core JavaScript -->
  <script src="https://cdn.bootcss.com/twitter-bootstrap/4.3.1/js/bootstrap.bundle.min.js"></script>
  <!-- <script src="https://tianxiawuhao.github.io/media/scripts/bootstrap.bundle.min.js"></script> -->
  <!-- Bootstrap core JavaScript -->
  <script src="https://cdn.jsdelivr.net/gh/Alanrk/clean-cdn@1.0/scripts/clean-blog.min.js"></script>
  <!-- <script src="https://tianxiawuhao.github.io/media/scripts/clean-blog.min.js"></script> -->
  <script src="//instant.page/3.0.0" type="module" defer integrity="sha384-OeDn4XE77tdHo8pGtE1apMPmAipjoxUQ++eeJa6EtJCfHlvijigWiJpD7VDPWXV1"></script>
  <style type="text/css">a.back_to_top{text-decoration:none;position:fixed;bottom:40px;right:30px;background:#f0f0f0;height:40px;width:40px;border-radius:50%;line-height:36px;font-size:18px;text-align:center;transition-duration:.5s;transition-propety:background-color;display:none}a.back_to_top span{color:#888}a.back_to_top:hover{cursor:pointer;background:#dfdfdf}a.back_to_top:hover span{color:#555}@media print,screen and(max-width:580px){.back_to_top{display:none!important}}</style>
<a id="back_to_top" href="#" class="back_to_top">
  <span>▲</span></a>
<script>$(document).ready((function(_this) {
    return function() {
      var bt;
      bt = $('#back_to_top');
      if ($(document).width() > 480) {
        $(window).scroll(function() {
          var st;
          st = $(window).scrollTop();
          if (st > 30) {
            return bt.css('display', 'block')
          } else {
            return bt.css('display', 'none')
          }
        });
        return bt.click(function() {
          $('body,html').animate({
            scrollTop: 0
          },
          800);
          return false
        })
      }
    }
  })(this));</script>
  
  <script src="https://tianxiawuhao.github.io/media/scripts/tocScript.js"></script>
</body>

</html>